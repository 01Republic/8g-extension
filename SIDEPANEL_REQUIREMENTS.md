# ì›Œí¬í”Œë¡œìš° ì§„í–‰ìƒí™© ì²´í¬ ì‚¬ì´ë“œíŒ¨ë„ - ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì¤‘ ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ì„ ìœ„í•œ Chrome ì‚¬ì´ë“œíŒ¨ë„ ê¸°ëŠ¥ êµ¬í˜„

### ëª©ì 
- ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì¤‘ íŠ¹ì • ìƒíƒœë¥¼ ì‚¬ìš©ìê°€ í™•ì¸í•˜ê³  ê²€ì¦í•  ìˆ˜ ìˆë„ë¡ í•¨
- ë¡œê·¸ì¸ ìƒíƒœ, í˜ì´ì§€ ë¡œë”© ìƒíƒœ ë“±ì„ ì‚¬ìš©ìê°€ ì§ì ‘ í™•ì¸í•˜ê³  í”¼ë“œë°± ì œê³µ
- ìë™í™”ì™€ ìˆ˜ë™ í™•ì¸ì˜ í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ ë°©ì‹ ì œê³µ

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### 1. ì‚¬ì´ë“œíŒ¨ë„ ì‹œìŠ¤í…œ

#### 1.1 ê¸°ë³¸ ê¸°ëŠ¥
- [x] Chrome Side Panel APIë¥¼ í™œìš©í•œ íŒ¨ë„ êµ¬í˜„
- [x] ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì¤‘ ìë™ ì˜¤í”ˆ
- [x] ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸
- [x] ì‚¬ìš©ì ì•¡ì…˜ ë²„íŠ¼ ì œê³µ

#### 1.2 UI ìš”êµ¬ì‚¬í•­
- [x] ë„ˆë¹„: Chrome ê¸°ë³¸ ì‚¬ì´ë“œíŒ¨ë„ ë„ˆë¹„ (ì•½ 400px)
- [x] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
- [ ] ì ‘ê·¼ì„± ì¤€ìˆ˜ (ARIA labels, keyboard navigation)

### 2. ìƒíƒœ í™•ì¸ í”Œë¡œìš°

#### 2.1 ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì˜ˆì‹œ
```
1. ì›Œí¬í”Œë¡œìš°ì—ì„œ "check-status" ë¸”ë¡ ì‹¤í–‰
2. ì‚¬ì´ë“œíŒ¨ë„ ìë™ ì˜¤í”ˆ
3. "ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì¤‘..." ë©”ì‹œì§€ í‘œì‹œ
4. [í™•ì¸] ë²„íŠ¼ í™œì„±í™”
5. ì‚¬ìš©ì ì•¡ì…˜ ì²˜ë¦¬:
   - ì„±ê³µ ì‹œ: ê³„ì • ì •ë³´ í‘œì‹œ + ì›Œí¬í”Œë¡œìš° ê³„ì†
   - ì‹¤íŒ¨ ì‹œ: ì¬ì‹œë„ ì•ˆë‚´ + ëŒ€ê¸°
6. [ë‹«ê¸°] ë²„íŠ¼ìœ¼ë¡œ ìµœì†Œí™”
```

#### 2.2 ì§€ì›í•  ìƒíƒœ í™•ì¸ ìœ í˜•
- [ ] ë¡œê·¸ì¸ ìƒíƒœ
- [ ] í˜ì´ì§€ ë¡œë”© ì™„ë£Œ
- [ ] íŠ¹ì • ìš”ì†Œ ì¶œí˜„
- [ ] ì»¤ìŠ¤í…€ ì¡°ê±´

### 3. í”Œë¡œíŒ… ë²„íŠ¼

#### 3.1 ê¸°ë³¸ ê¸°ëŠ¥
- [ ] ì‚¬ì´ë“œíŒ¨ë„ ìµœì†Œí™” ì‹œ í‘œì‹œ
- [ ] ì˜¤ë¥¸ìª½ í•˜ë‹¨ ê³ ì • ìœ„ì¹˜
- [ ] í´ë¦­ ì‹œ ì‚¬ì´ë“œíŒ¨ë„ ì¬ì˜¤í”ˆ

#### 3.2 UI ìš”êµ¬ì‚¬í•­
- [ ] í¬ê¸°: 50x50px ì›í˜• ë²„íŠ¼
- [ ] ìƒíƒœ í‘œì‹œ ì•„ì´ì½˜
- [ ] í˜¸ë²„ íš¨ê³¼ ë° íˆ´íŒ
- [ ] ë“œë˜ê·¸ ê°€ëŠ¥ (ì˜µì…˜)

## ğŸ—ï¸ ê¸°ìˆ  êµ¬í˜„ ì‚¬í•­

### 1. ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸

#### 1.1 CheckStatusBlock (`src/blocks/CheckStatusBlock.ts`)
```typescript
interface CheckStatusBlock {
  name: 'check-status'
  checkType: 'login' | 'pageLoad' | 'element' | 'custom'
  title: string
  description?: string
  options: {
    timeoutMs?: number
    retryable?: boolean
    customValidator?: string // JavaScript expression
  }
}
```

#### 1.2 SidePanel ì»´í¬ë„ŒíŠ¸ (`src/sidepanel/`)
```
src/sidepanel/
â”œâ”€â”€ index.html          # ì‚¬ì´ë“œíŒ¨ë„ ì—”íŠ¸ë¦¬
â”œâ”€â”€ main.tsx           # React ì•± ì´ˆê¸°í™”
â”œâ”€â”€ App.tsx            # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StatusChecker.tsx
â”‚   â”œâ”€â”€ LoginStatus.tsx
â”‚   â””â”€â”€ ActionButtons.tsx
â””â”€â”€ styles/
    â””â”€â”€ sidepanel.css
```

#### 1.3 FloatingButton ì»´í¬ë„ŒíŠ¸ (`src/content/components/FloatingButton.tsx`)
- Content Scriptì— ì£¼ì…
- Shadow DOM ì‚¬ìš©ìœ¼ë¡œ ìŠ¤íƒ€ì¼ ê²©ë¦¬
- ìœ„ì¹˜ ì¶©ëŒ ë°©ì§€ ë¡œì§

### 2. ë©”ì‹œì§€ í†µì‹  ì•„í‚¤í…ì²˜

#### 2.1 ìƒˆë¡œìš´ ë©”ì‹œì§€ íƒ€ì…
```typescript
// Internal Messages
interface OpenSidePanelMessage {
  type: 'OPEN_SIDE_PANEL'
  payload: {
    checkType: string
    title: string
    description?: string
  }
}

interface SidePanelActionMessage {
  type: 'SIDE_PANEL_ACTION'
  payload: {
    action: 'confirm' | 'cancel' | 'retry'
    data?: any
  }
}

interface UpdateSidePanelMessage {
  type: 'UPDATE_SIDE_PANEL'
  payload: {
    status: 'checking' | 'success' | 'error' | 'waiting'
    message: string
    data?: any
  }
}
```

#### 2.2 í†µì‹  í”Œë¡œìš°
```
Workflow Runner
    â†“ (CheckStatusBlock ì‹¤í–‰)
Background Service
    â†“ (chrome.sidePanel.open())
Side Panel
    â†“ (ì‚¬ìš©ì ì¸í„°ë™ì…˜)
Background Service
    â†“ (ê²°ê³¼ ì „ë‹¬)
Workflow Runner (ê³„ì†/ì¤‘ë‹¨)
```

### 3. Background ì„œë¹„ìŠ¤ í™•ì¥

#### 3.1 SidePanelService (`src/background/service/SidePanelService.ts`)
- [ ] Side Panel API ê´€ë¦¬
- [ ] ìƒíƒœ ë™ê¸°í™”
- [ ] ë©”ì‹œì§€ ë¼ìš°íŒ…
- [ ] íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬

#### 3.2 Manifest ì—…ë°ì´íŠ¸
```json
{
  "permissions": [
    "sidePanel"
  ],
  "side_panel": {
    "default_path": "sidepanel/index.html"
  }
}
```

## ğŸ“ êµ¬í˜„ íƒœìŠ¤í¬

### Phase 1: ê¸°ë³¸ ì¸í”„ë¼ (2-3ì¼)
- [x] Manifest.jsonì— sidePanel ê¶Œí•œ ì¶”ê°€
- [x] ì‚¬ì´ë“œíŒ¨ë„ HTML/React ê¸°ë³¸ êµ¬ì¡° ìƒì„±
- [x] Vite ë¹Œë“œ ì„¤ì • ì—…ë°ì´íŠ¸ (ì‚¬ì´ë“œíŒ¨ë„ ì—”íŠ¸ë¦¬ ì¶”ê°€)
- [x] ê¸°ë³¸ ë©”ì‹œì§€ í†µì‹  êµ¬í˜„

### Phase 2: í•µì‹¬ ê¸°ëŠ¥ (3-4ì¼)
- [x] CheckStatusBlock êµ¬í˜„
- [x] SidePanelService êµ¬í˜„
- [x] ì‚¬ì´ë“œíŒ¨ë„ UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- [ ] ì›Œí¬í”Œë¡œìš° ëŸ°ë„ˆ ì—°ë™

### Phase 3: ì‚¬ìš©ì ê²½í—˜ ê°œì„  (2-3ì¼)
- [ ] FloatingButton êµ¬í˜„
- [ ] ì• ë‹ˆë©”ì´ì…˜ ë° ì „í™˜ íš¨ê³¼
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§
- [ ] ìƒíƒœë³„ UI í”¼ë“œë°±

### Phase 4: í†µí•© ë° ìµœì í™” (1-2ì¼)
- [ ] StatusUIì™€ ìœ„ì¹˜ ì¶©ëŒ í•´ê²°
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬
- [ ] ë¬¸ì„œí™”

## ğŸ”„ ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ

### ë¡œê·¸ì¸ í›„ ë°ì´í„° ìˆ˜ì§‘ ì›Œí¬í”Œë¡œìš°
```typescript
{
  version: '1.0',
  start: 'navigate-login',
  steps: [
    {
      id: 'navigate-login',
      block: {
        name: 'navigate',
        url: 'https://example.com/login'
      },
      next: 'check-login'
    },
    {
      id: 'check-login',
      block: {
        name: 'check-status',
        checkType: 'login',
        title: 'ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸',
        description: 'ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”',
        options: {
          timeoutMs: 60000,
          retryable: true
        }
      },
      onSuccess: 'collect-data',
      onFailure: 'login-failed'
    },
    {
      id: 'collect-data',
      block: {
        name: 'get-text',
        selector: '.user-data',
        findBy: 'cssSelector'
      }
    }
  ]
}
```

## ğŸš¨ ì£¼ì˜ì‚¬í•­ ë° ì œì•½ì‚¬í•­

1. **Chrome ë²„ì „ í˜¸í™˜ì„±**
   - Chrome 114+ í•„ìš” (Side Panel API)
   - Manifest V3 í•„ìˆ˜

2. **UI/UX ê³ ë ¤ì‚¬í•­**
   - StatusUIì™€ í”Œë¡œíŒ… ë²„íŠ¼ ìœ„ì¹˜ ì¶©ëŒ ë°©ì§€
   - ì—¬ëŸ¬ íƒ­ì—ì„œ ë™ì‹œ ì‹¤í–‰ ì‹œ ì²˜ë¦¬
   - ì‚¬ì´ë“œíŒ¨ë„ ê°•ì œ ì¢…ë£Œ ì‹œ ì²˜ë¦¬

3. **ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­**
   - ë©”ì‹œì§€ í†µì‹  ìµœì í™”
   - ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

4. **ë³´ì•ˆ ê³ ë ¤ì‚¬í•­**
   - ë¯¼ê°í•œ ì •ë³´ í‘œì‹œ ì£¼ì˜
   - XSS ë°©ì§€
   - ì‚¬ìš©ì ì…ë ¥ ê²€ì¦

## ğŸ“Š ì„±ê³µ ì§€í‘œ

- [ ] ì‚¬ì´ë“œíŒ¨ë„ ì˜¤í”ˆ ì‘ë‹µì‹œê°„ < 500ms
- [ ] ì‚¬ìš©ì ì•¡ì…˜ ì²˜ë¦¬ ì‹œê°„ < 100ms
- [ ] ì›Œí¬í”Œë¡œìš° ì¤‘ë‹¨ ì—†ëŠ” ì›í™œí•œ ì „í™˜
- [ ] ì§ê´€ì ì¸ UIë¡œ í•™ìŠµ ì‹œê°„ ìµœì†Œí™”

## ğŸ”— ì°¸ê³  ìë£Œ

- [Chrome Side Panel API Documentation](https://developer.chrome.com/docs/extensions/reference/sidePanel/)
- [Chrome Extension Message Passing](https://developer.chrome.com/docs/extensions/develop/concepts/messaging)
- ê¸°ì¡´ êµ¬í˜„ ì°¸ê³ : `src/content/components/ConfirmationUI.tsx`

## ğŸ“ í˜„ì¬ê¹Œì§€ êµ¬í˜„ëœ ì£¼ìš” íŒŒì¼

### ì‚¬ì´ë“œíŒ¨ë„ ì»´í¬ë„ŒíŠ¸
- `src/sidepanel/index.html` - ì‚¬ì´ë“œíŒ¨ë„ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
- `src/sidepanel/main.tsx` - React ì•± ì´ˆê¸°í™”
- `src/sidepanel/App.tsx` - ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
- `src/sidepanel/types.ts` - TypeScript íƒ€ì… ì •ì˜
- `src/sidepanel/components/StatusChecker.tsx` - ìƒíƒœ ì²´í¬ UI
- `src/sidepanel/components/LoginStatus.tsx` - ë¡œê·¸ì¸ ìƒíƒœ UI
- `src/sidepanel/components/ActionButtons.tsx` - ì•¡ì…˜ ë²„íŠ¼ UI
- `src/sidepanel/styles/sidepanel.css` - ìŠ¤íƒ€ì¼ì‹œíŠ¸

### ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤
- `src/background/service/SidePanelService.ts` - ì‚¬ì´ë“œíŒ¨ë„ ê´€ë¦¬ ì„œë¹„ìŠ¤
- `src/background/chrome/BackgroundManager.ts` - SidePanelService í†µí•©

### ë¸”ë¡ êµ¬í˜„
- `src/blocks/CheckStatusBlock.ts` - check-status ë¸”ë¡ êµ¬í˜„
- `src/blocks/index.ts` - CheckStatusBlock í†µí•©

### ì»¨í…íŠ¸ ìŠ¤í¬ë¦½íŠ¸
- `src/content/handler/InternalMessageHandler.ts` - CHECK_STATUS ë©”ì‹œì§€ í•¸ë“¤ëŸ¬ ì¶”ê°€

### ì„¤ì • íŒŒì¼
- `manifest.config.ts` - sidePanel ê¶Œí•œ ë° ì„¤ì • ì¶”ê°€

## ğŸ“… ì˜ˆìƒ ì¼ì •

- **ì „ì²´ ì†Œìš” ì‹œê°„**: 8-12ì¼
- **MVP ì™„ì„±**: 5-7ì¼
- **ê°œì„  ë° ìµœì í™”**: 3-5ì¼

---

*ì‘ì„±ì¼: 2025ë…„ 11ì›”*  
*ìµœì¢… ìˆ˜ì •ì¼: 2025ë…„ 11ì›” 20ì¼*  
*ì‘ì„±ì: 8G Extension Team*  
*ë²„ì „: 1.0.1*  
*êµ¬í˜„ ìƒíƒœ: Phase 1 ì™„ë£Œ, Phase 2 ì§„í–‰ ì¤‘*